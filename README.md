# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с TS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Типы данных

    type price = number | null - товар может быт с ценой, так и без нее (0)

    type payment = 'cash' | 'card' - способы оплаты: карта или наличные

    type category =
    | 'другое'
    | 'софт-скил'
    | 'дополнительное'
    | 'кнопка'
    | 'хард-скил'; - категории товаров

## Описание данных (интерфейсы)

Интерфейс карточки товара IProduct

    - id: string - id карточки товара
    - title: string - название карточки товара
    - category: category - категория товара
    - description: string - описание товара
    - price: price - цена товара (может быть с нулевым значением, так как есть бесценные товары)
    - image: string - изображение товара
    - buyButton: string - кнопка "Купить"

Интерфейс заказа IOrder

    - payment: payment - способ оплаты
    - mail: string - электронный адрес
    - phone: string - телефон
    - address: string - адрес
    - total: number - итоговая сумма заказа
    - items: string[] - массив товаров в заказе

Интерфейс корзины IBasket

    - items: string[] - массив товаро в корзине
    - total: price; - итоговая стоимость (если в корзину добавлены только товары из категории "Бесценно" - стоимость 0)

Интерфейс результата заказа IOrderResult

    - id: string - идентификатор заказа
    - total: price - итоговая стоимость

Интерфейс страницы IPage

    - cards: IProduct[] - массив карточек товар
    - total: number - количество карточек

Интерфейс валидации форм IValidationForm

    - valid: boolean - валидация формы булевым значением
    - errors: string[] сообщение/я об ошибке/ах

Интерфейс пользовательских сценариев IUserScenario

    - cardsCatalog: IProduct[] - массив карточек товаров приложения
    - buyButton(): void - метод
    - addToBasket(value: IProduct): void - метод добавления товара в корзину
    - placeOrder(): void - метод оформления товара
    - deleteFromBasket(): void - метод удаления товара из корзины
    - clearBasket(): void - метод очистки корзины
    - getItems(): void - метод получения товаров по их id
    - validateUserInfo(data: keyof IUserInfo, value: string): boolean - метод валидации информации о пользователе
    - goForNewThings(): void - метод похода(возврата в каталог на стартовую страницу) за новыми покупками

## Модели данных (классы)

## Базовый код

Класс Api

Содержит в себе базовую логику отправки запросов. В конструктор передается базовый адрес сервера и опциональный объект с заголовками запросов.\
Методы:

    'get' - выполняет GET запрос на переданный в параметрах ендпоинт и возвращает промис с объектом, которым ответил сервер

    'post' - принимает объект с данными, которые будут переданы в JSON в теле запроса, и отправляет эти данные на ендпоинт переданный как параметр при вызове метода. По умолчанию выполняется POST запрос, но метод запроса может быть переопределен заданием третьего параметра при вызове.

Класс EventEmitter

Брокер событий позволяет отправлять события и подписываться на события, происходящие в системе. Класс используется в презентере для обработки событий и в слоях приложения для генерации событий.
Основные методы, реализуемые классом описаны интерфейсом IEvents:

    'on' - подписка на событие
    'emit' - инициализация события
    'trigger' - возвращает функцию, при вызове которой инициализируется требуемое в параметрах событие

## Слой данных

